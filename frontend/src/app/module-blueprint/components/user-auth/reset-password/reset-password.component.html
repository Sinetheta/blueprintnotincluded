<p-dialog
  [(visible)]="visible"
  [modal]="true"
  [closable]="false"
  [draggable]="false"
  [resizable]="false"
  [style]="{ width: '400px' }"
>
  <ng-template pTemplate="header">
    <h2 i18n>Reset Password</h2>
  </ng-template>

  <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
    <div class="p-field">
      <span class="p-float-label">
        <input
          pPassword
          type="password"
          formControlName="password"
          [feedback]="false"
        />
        <label for="password" i18n>New Password</label>
      </span>
      <div
        class="validation-error"
        *ngIf="
          resetForm.get('password').touched &&
          resetForm.get('password').errors?.required
        "
        i18n
      >
        Password is required
      </div>
      <div
        class="validation-error"
        *ngIf="
          resetForm.get('password').touched &&
          resetForm.get('password').errors?.minlength
        "
        i18n
      >
        Password must be at least 6 characters
      </div>
    </div>

    <div class="p-field">
      <span class="p-float-label">
        <input
          pPassword
          type="password"
          formControlName="confirmPassword"
          [feedback]="false"
        />
        <label for="confirmPassword" i18n>Confirm Password</label>
      </span>
      <div
        class="validation-error"
        *ngIf="
          resetForm.get('confirmPassword').touched &&
          resetForm.get('confirmPassword').errors?.required
        "
        i18n
      >
        Please confirm your password
      </div>
    </div>

    <div class="button-container">
      <p-button
        type="submit"
        label="Reset Password"
        [icon]="working ? 'pi pi-spin pi-spinner' : 'pi pi-check'"
        [disabled]="!resetForm.valid || working"
      >
      </p-button>
    </div>
  </form>
</p-dialog>
